{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"dev-VpcStack":{"id":"dev-VpcStack","path":"dev-VpcStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"Vpc":{"id":"Vpc","path":"dev-VpcStack/Vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.215.0","metadata":[{"maxAzs":"*","subnetConfiguration":[{"cidrMask":"*","name":"*","subnetType":"Public"},{"cidrMask":"*","name":"*","subnetType":"Private"},{"cidrMask":"*","name":"*","subnetType":"Isolated"}]}]},"children":{"Resource":{"id":"Resource","path":"dev-VpcStack/Vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc"},{"key":"Project","value":"MyApp"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"dev-VpcStack/Vpc/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"dev-VpcStack/Vpc/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-south-1a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet1"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"dev-VpcStack/Vpc/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"dev-VpcStack/Vpc/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet1"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"dev-VpcStack/Vpc/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcpublicSubnet1RouteTable15C15F8E"},"subnetId":{"Ref":"VpcpublicSubnet1Subnet2BB74ED7"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"dev-VpcStack/Vpc/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcpublicSubnet1RouteTable15C15F8E"}}}},"EIP":{"id":"EIP","path":"dev-VpcStack/Vpc/publicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet1"},{"key":"Project","value":"MyApp"}]}}},"NATGateway":{"id":"NATGateway","path":"dev-VpcStack/Vpc/publicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["VpcpublicSubnet1EIP411541E6","AllocationId"]},"subnetId":{"Ref":"VpcpublicSubnet1Subnet2BB74ED7"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet1"},{"key":"Project","value":"MyApp"}]}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"dev-VpcStack/Vpc/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"dev-VpcStack/Vpc/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-south-1b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet2"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"dev-VpcStack/Vpc/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"dev-VpcStack/Vpc/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet2"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"dev-VpcStack/Vpc/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcpublicSubnet2RouteTableC5A6DF77"},"subnetId":{"Ref":"VpcpublicSubnet2SubnetE34B022A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"dev-VpcStack/Vpc/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcpublicSubnet2RouteTableC5A6DF77"}}}},"EIP":{"id":"EIP","path":"dev-VpcStack/Vpc/publicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet2"},{"key":"Project","value":"MyApp"}]}}},"NATGateway":{"id":"NATGateway","path":"dev-VpcStack/Vpc/publicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["VpcpublicSubnet2EIP811E07A7","AllocationId"]},"subnetId":{"Ref":"VpcpublicSubnet2SubnetE34B022A"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/publicSubnet2"},{"key":"Project","value":"MyApp"}]}}}}},"privateSubnet1":{"id":"privateSubnet1","path":"dev-VpcStack/Vpc/privateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"dev-VpcStack/Vpc/privateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-south-1a","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/privateSubnet1"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"dev-VpcStack/Vpc/privateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"dev-VpcStack/Vpc/privateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/privateSubnet1"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"dev-VpcStack/Vpc/privateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcprivateSubnet1RouteTable1979EACB"},"subnetId":{"Ref":"VpcprivateSubnet1SubnetCEAD3716"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"dev-VpcStack/Vpc/privateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VpcpublicSubnet1NATGatewayA036E8A6"},"routeTableId":{"Ref":"VpcprivateSubnet1RouteTable1979EACB"}}}}}},"privateSubnet2":{"id":"privateSubnet2","path":"dev-VpcStack/Vpc/privateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"dev-VpcStack/Vpc/privateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-south-1b","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/privateSubnet2"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"dev-VpcStack/Vpc/privateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"dev-VpcStack/Vpc/privateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/privateSubnet2"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"dev-VpcStack/Vpc/privateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcprivateSubnet2RouteTable4D0FFC8C"},"subnetId":{"Ref":"VpcprivateSubnet2Subnet2DE7549C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"dev-VpcStack/Vpc/privateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VpcpublicSubnet2NATGateway4A29FD4F"},"routeTableId":{"Ref":"VpcprivateSubnet2RouteTable4D0FFC8C"}}}}}},"databaseSubnet1":{"id":"databaseSubnet1","path":"dev-VpcStack/Vpc/databaseSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"dev-VpcStack/Vpc/databaseSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-south-1a","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"database"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/databaseSubnet1"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"dev-VpcStack/Vpc/databaseSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"dev-VpcStack/Vpc/databaseSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/databaseSubnet1"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"dev-VpcStack/Vpc/databaseSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcdatabaseSubnet1RouteTableF3B572E4"},"subnetId":{"Ref":"VpcdatabaseSubnet1SubnetD53A427B"}}}}}},"databaseSubnet2":{"id":"databaseSubnet2","path":"dev-VpcStack/Vpc/databaseSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"dev-VpcStack/Vpc/databaseSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-south-1b","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"database"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/databaseSubnet2"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"dev-VpcStack/Vpc/databaseSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"dev-VpcStack/Vpc/databaseSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc/databaseSubnet2"},{"key":"Project","value":"MyApp"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"dev-VpcStack/Vpc/databaseSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcdatabaseSubnet2RouteTable1E50BD8E"},"subnetId":{"Ref":"VpcdatabaseSubnet2Subnet75663D63"}}}}}},"IGW":{"id":"IGW","path":"dev-VpcStack/Vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"dev-VpcStack/Vpc"},{"key":"Project","value":"MyApp"}]}}},"VPCGW":{"id":"VPCGW","path":"dev-VpcStack/Vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"VpcIGWD7BA715C"},"vpcId":{"Ref":"Vpc8378EB38"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"dev-VpcStack/Vpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.215.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"dev-VpcStack/Vpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"dev-VpcStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.215.0"},"children":{"Staging":{"id":"Staging","path":"dev-VpcStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Role":{"id":"Role","path":"dev-VpcStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Handler":{"id":"Handler","path":"dev-VpcStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-VpcStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"dev-VpcStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"Exports":{"id":"Exports","path":"dev-VpcStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"Vpc8378EB38\",\"CidrBlock\"]}":{"id":"Output{\"Fn::GetAtt\":[\"Vpc8378EB38\",\"CidrBlock\"]}","path":"dev-VpcStack/Exports/Output{\"Fn::GetAtt\":[\"Vpc8378EB38\",\"CidrBlock\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"Vpc8378EB38\"}":{"id":"Output{\"Ref\":\"Vpc8378EB38\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"Vpc8378EB38\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"VpcdatabaseSubnet1SubnetD53A427B\"}":{"id":"Output{\"Ref\":\"VpcdatabaseSubnet1SubnetD53A427B\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"VpcdatabaseSubnet1SubnetD53A427B\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"VpcdatabaseSubnet2Subnet75663D63\"}":{"id":"Output{\"Ref\":\"VpcdatabaseSubnet2Subnet75663D63\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"VpcdatabaseSubnet2Subnet75663D63\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"VpcpublicSubnet1Subnet2BB74ED7\"}":{"id":"Output{\"Ref\":\"VpcpublicSubnet1Subnet2BB74ED7\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"VpcpublicSubnet1Subnet2BB74ED7\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"VpcpublicSubnet2SubnetE34B022A\"}":{"id":"Output{\"Ref\":\"VpcpublicSubnet2SubnetE34B022A\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"VpcpublicSubnet2SubnetE34B022A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"VpcprivateSubnet1SubnetCEAD3716\"}":{"id":"Output{\"Ref\":\"VpcprivateSubnet1SubnetCEAD3716\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"VpcprivateSubnet1SubnetCEAD3716\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"VpcprivateSubnet2Subnet2DE7549C\"}":{"id":"Output{\"Ref\":\"VpcprivateSubnet2Subnet2DE7549C\"}","path":"dev-VpcStack/Exports/Output{\"Ref\":\"VpcprivateSubnet2Subnet2DE7549C\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-VpcStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-VpcStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"dev-RdsStack":{"id":"dev-RdsStack","path":"dev-RdsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"DBCredentials":{"id":"DBCredentials","path":"dev-RdsStack/DBCredentials","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.215.0","metadata":[{"secretName":"*","description":"*","generateSecretString":{"secretStringTemplate":"*","generateStringKey":"*","excludePunctuation":true,"passwordLength":"*"},"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"dev-RdsStack/DBCredentials/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"RDS database credentials for Classic App","generateSecretString":{"secretStringTemplate":"{\"username\":\"classicadmin\"}","generateStringKey":"password","excludePunctuation":true,"passwordLength":32},"name":"dev/classic-app/db-credentials","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"Attachment":{"id":"Attachment","path":"dev-RdsStack/DBCredentials/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.215.0","metadata":[{"secret":"*","target":"*"}]},"children":{"Resource":{"id":"Resource","path":"dev-RdsStack/DBCredentials/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DBCredentialsCBF39AE9"},"targetId":{"Ref":"MySQLInstance216DD474"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"DBSecurityGroup":{"id":"DBSecurityGroup","path":"dev-RdsStack/DBSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.215.0","metadata":[{"vpc":"*","securityGroupName":"*","description":"*","allowAllOutbound":false},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"dev-RdsStack/DBSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Classic App RDS MySQL","groupName":"dev-classic-db-sg","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"securityGroupIngress":[{"cidrIp":{"Fn::ImportValue":"dev-VpcStack:ExportsOutputFnGetAttVpc8378EB38CidrBlock14DD2396"},"ipProtocol":"tcp","fromPort":3306,"toPort":3306,"description":"Allow MySQL access from VPC"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"vpcId":{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpc8378EB38272D6E3A"}}}}}},"DBSubnetGroup":{"id":"DBSubnetGroup","path":"dev-RdsStack/DBSubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.215.0","metadata":[{"vpc":"*","description":"*","vpcSubnets":{"subnetType":"Isolated"},"subnetGroupName":"*","removalPolicy":"destroy"}]},"children":{"Default":{"id":"Default","path":"dev-RdsStack/DBSubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for Classic App RDS","dbSubnetGroupName":"dev-classic-db-subnet-group","subnetIds":[{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpcdatabaseSubnet1SubnetD53A427B17FFBFBA"},{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpcdatabaseSubnet2Subnet75663D630D32CD6A"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}}}},"MySQLInstance":{"id":"MySQLInstance","path":"dev-RdsStack/MySQLInstance","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.215.0","metadata":[{"instanceIdentifier":"*","engine":{"engineType":"*","singleUserRotationApplication":"*","engineVersion":{"fullVersion":"*","majorVersion":"*"},"parameterGroupFamily":"*","engineFamily":"*","supportsReadReplicaBackups":true},"instanceType":"*","vpc":"*","vpcSubnets":{"subnetType":"Isolated"},"subnetGroup":"*","securityGroups":["*"],"credentials":"*","databaseName":"*","allocatedStorage":"*","storageType":"gp2","storageEncrypted":true,"multiAz":false,"publiclyAccessible":false,"autoMinorVersionUpgrade":true,"backupRetention":"*","preferredBackupWindow":"*","preferredMaintenanceWindow":"*","deletionProtection":false,"removalPolicy":"snapshot","cloudwatchLogsExports":"*","enablePerformanceInsights":false}]},"children":{"Resource":{"id":"Resource","path":"dev-RdsStack/MySQLInstance/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","autoMinorVersionUpgrade":true,"backupRetentionPeriod":7,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbInstanceIdentifier":"dev-classic-app-db","dbName":"classicappdb","dbSubnetGroupName":{"Ref":"DBSubnetGroup"},"deletionProtection":false,"enableCloudwatchLogsExports":["error"],"enablePerformanceInsights":false,"engine":"mysql","engineVersion":"8.0.39","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DBCredentialsCBF39AE9"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DBCredentialsCBF39AE9"},":SecretString:password::}}"]]},"multiAz":false,"preferredBackupWindow":"03:00-04:00","preferredMaintenanceWindow":"sun:04:00-sun:05:00","publiclyAccessible":false,"storageEncrypted":true,"storageType":"gp2","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"vpcSecurityGroups":[{"Fn::GetAtt":["DBSecurityGroupE3B245A3","GroupId"]}]}}}}},"DBLogGroup":{"id":"DBLogGroup","path":"dev-RdsStack/DBLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","retention":7,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"dev-RdsStack/DBLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/rds/instance/dev-classic-app-db/error","retentionInDays":7,"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}}}},"DBEndpoint":{"id":"DBEndpoint","path":"dev-RdsStack/DBEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DBPort":{"id":"DBPort","path":"dev-RdsStack/DBPort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DBName":{"id":"DBName","path":"dev-RdsStack/DBName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DBSecretArn":{"id":"DBSecretArn","path":"dev-RdsStack/DBSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DBSecurityGroupId":{"id":"DBSecurityGroupId","path":"dev-RdsStack/DBSecurityGroupId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-RdsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"dev-RdsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"Exports":{"id":"Exports","path":"dev-RdsStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"DBCredentialsCBF39AE9\"}":{"id":"Output{\"Ref\":\"DBCredentialsCBF39AE9\"}","path":"dev-RdsStack/Exports/Output{\"Ref\":\"DBCredentialsCBF39AE9\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Fn::GetAtt\":[\"MySQLInstance216DD474\",\"Endpoint.Address\"]}":{"id":"Output{\"Fn::GetAtt\":[\"MySQLInstance216DD474\",\"Endpoint.Address\"]}","path":"dev-RdsStack/Exports/Output{\"Fn::GetAtt\":[\"MySQLInstance216DD474\",\"Endpoint.Address\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-RdsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-RdsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"dev-EcsStack":{"id":"dev-EcsStack","path":"dev-EcsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"DjangoAppRepository":{"id":"DjangoAppRepository","path":"dev-EcsStack/DjangoAppRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.215.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","emptyOnDelete":true,"imageScanOnPush":true}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoAppRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"emptyOnDelete":true,"imageScanningConfiguration":{"scanOnPush":true},"repositoryName":"dev/django-app","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}}}},"DjangoCluster":{"id":"DjangoCluster","path":"dev-EcsStack/DjangoCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.215.0","metadata":[{"clusterName":"*","vpc":"*","containerInsights":true}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"dev-django-cluster","clusterSettings":[{"name":"containerInsights","value":"enabled"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}}}},"DjangoLogGroup":{"id":"DjangoLogGroup","path":"dev-EcsStack/DjangoLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","retention":7,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/dev/django-app","retentionInDays":7,"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}}}},"TaskExecutionRole":{"id":"TaskExecutionRole","path":"dev-EcsStack/TaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportTaskExecutionRole":{"id":"ImportTaskExecutionRole","path":"dev-EcsStack/TaskExecutionRole/ImportTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-EcsStack/TaskExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-EcsStack/TaskExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/TaskExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Fn::ImportValue":"dev-RdsStack:ExportsOutputRefDBCredentialsCBF39AE96FE42413"}},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DjangoAppRepository0E623376","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DjangoLogGroup3D6AC872","Arn"]}}],"Version":"2012-10-17"},"policyName":"TaskExecutionRoleDefaultPolicyA84DD1B0","roles":[{"Ref":"TaskExecutionRole250D2532"}]}}}}}}},"TaskRole":{"id":"TaskRole","path":"dev-EcsStack/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"dev-EcsStack/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-EcsStack/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-EcsStack/TaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/TaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ssmmessages:CreateControlChannel","ssmmessages:CreateDataChannel","ssmmessages:OpenControlChannel","ssmmessages:OpenDataChannel"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"TaskRoleDefaultPolicy07FC53DE","roles":[{"Ref":"TaskRole30FC0FBB"}]}}}}}}},"DjangoTaskDef":{"id":"DjangoTaskDef","path":"dev-EcsStack/DjangoTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.215.0","metadata":["*","*","*","*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["DjangoAppRepository0E623376","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["DjangoAppRepository0E623376","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"DjangoAppRepository0E623376"},":latest"]]},"name":"django-app","portMappings":[{"containerPort":8000,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"DjangoLogGroup3D6AC872"},"awslogs-stream-prefix":"django-app","awslogs-region":"ap-south-1"}},"environment":[{"name":"DEBUG","value":"true"},{"name":"DB_HOST","value":{"Fn::ImportValue":"dev-RdsStack:ExportsOutputFnGetAttMySQLInstance216DD474EndpointAddress91ECF01B"}},{"name":"DB_PORT","value":"3306"},{"name":"DB_NAME","value":"classicappdb"},{"name":"DB_USER","value":"classicadmin"}],"secrets":[{"name":"DB_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"dev-RdsStack:ExportsOutputRefDBCredentialsCBF39AE96FE42413"},":password::"]]}}],"healthCheck":{"command":["CMD-SHELL","curl -f http://localhost:8000/health/ || exit 1"],"interval":30,"retries":3,"startPeriod":60,"timeout":5}}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["TaskExecutionRole250D2532","Arn"]},"family":"dev-django-app","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"taskRoleArn":{"Fn::GetAtt":["TaskRole30FC0FBB","Arn"]}}}},"django-app":{"id":"django-app","path":"dev-EcsStack/DjangoTaskDef/django-app","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.215.0"}}}},"ALBSecurityGroup":{"id":"ALBSecurityGroup","path":"dev-EcsStack/ALBSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.215.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":true},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*",false]},{"addEgressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/ALBSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Application Load Balancer","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"vpcId":{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpc8378EB38272D6E3A"}}}}}},"ServiceSecurityGroup":{"id":"ServiceSecurityGroup","path":"dev-EcsStack/ServiceSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.215.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":true},{"addIngressRule":["*",{},"*"]},{"addIngressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/ServiceSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for ECS service","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"vpcId":{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpc8378EB38272D6E3A"}}}},"from devEcsStackALBSecurityGroup4C29DCA5:8000":{"id":"from devEcsStackALBSecurityGroup4C29DCA5:8000","path":"dev-EcsStack/ServiceSecurityGroup/from devEcsStackALBSecurityGroup4C29DCA5:8000","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow ALB to Django","fromPort":8000,"groupId":{"Fn::GetAtt":["ServiceSecurityGroup61DE1A49","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]},"toPort":8000}}}}},"DjangoALB":{"id":"DjangoALB","path":"dev-EcsStack/DjangoALB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.215.0","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoALB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"name":"dev-django-alb","scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]}],"subnets":[{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpcpublicSubnet1Subnet2BB74ED74EB42ADC"},{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpcpublicSubnet2SubnetE34B022AC8BB6627"}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"type":"application"}}},"HTTPListener":{"id":"HTTPListener","path":"dev-EcsStack/DjangoALB/HTTPListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.215.0","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoALB/HTTPListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"DjangoTargetGroup3F9AE780"}}],"loadBalancerArn":{"Ref":"DjangoALBCAFDD2A3"},"port":80,"protocol":"HTTP"}}}}}}},"DjangoTargetGroup":{"id":"DjangoTargetGroup","path":"dev-EcsStack/DjangoTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.215.0"},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckIntervalSeconds":30,"healthCheckPath":"/","healthCheckTimeoutSeconds":5,"healthyThresholdCount":2,"port":8000,"protocol":"HTTP","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","unhealthyThresholdCount":3,"vpcId":{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpc8378EB38272D6E3A"}}}}}},"DjangoService":{"id":"DjangoService","path":"dev-EcsStack/DjangoService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.215.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"dev-EcsStack/DjangoService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"DjangoClusterF5CCF78E"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"deploymentCircuitBreaker":{"enable":true,"rollback":true}},"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":true,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"DjangoTargetGroup3F9AE780"},"containerName":"django-app","containerPort":8000}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpcprivateSubnet1SubnetCEAD37168693D373"},{"Fn::ImportValue":"dev-VpcStack:ExportsOutputRefVpcprivateSubnet2Subnet2DE7549CDF5ACE3D"}],"securityGroups":[{"Fn::GetAtt":["ServiceSecurityGroup61DE1A49","GroupId"]}]}},"serviceName":"dev-django-service","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"taskDefinition":{"Ref":"DjangoTaskDef1E08DD3F"}}}},"ScalingRole":{"id":"ScalingRole","path":"dev-EcsStack/DjangoService/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"TaskCount":{"id":"TaskCount","path":"dev-EcsStack/DjangoService/TaskCount","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ScalableTaskCount","version":"2.215.0"},"children":{"Target":{"id":"Target","path":"dev-EcsStack/DjangoService/TaskCount/Target","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.ScalableTarget","version":"2.215.0","metadata":[{"serviceNamespace":"ecs","scalableDimension":"*","resourceId":"*","role":"*","minCapacity":"*","maxCapacity":"*"},{"scaleToTrackMetric":["*",{"predefinedMetric":"*","policyName":"*","disableScaleIn":"*","targetValue":"*","scaleInCooldown":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoService/TaskCount/Target/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalableTarget","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalableTarget","aws:cdk:cloudformation:props":{"maxCapacity":3,"minCapacity":1,"resourceId":{"Fn::Join":["",["service/",{"Ref":"DjangoClusterF5CCF78E"},"/",{"Fn::GetAtt":["DjangoServiceD3AAF77D","Name"]}]]},"roleArn":"arn:aws:iam::516268691462:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService","scalableDimension":"ecs:service:DesiredCount","serviceNamespace":"ecs"}}},"CpuScaling":{"id":"CpuScaling","path":"dev-EcsStack/DjangoService/TaskCount/Target/CpuScaling","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.TargetTrackingScalingPolicy","version":"2.215.0"},"children":{"Resource":{"id":"Resource","path":"dev-EcsStack/DjangoService/TaskCount/Target/CpuScaling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_applicationautoscaling.CfnScalingPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApplicationAutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"policyName":"devEcsStackDjangoServiceTaskCountTargetCpuScaling3267532D","policyType":"TargetTrackingScaling","scalingTargetId":{"Ref":"DjangoServiceTaskCountTarget443B2910"},"targetTrackingScalingPolicyConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ECSServiceAverageCPUUtilization"},"targetValue":70}}}}}}}}}}}},"LoadBalancerURL":{"id":"LoadBalancerURL","path":"dev-EcsStack/LoadBalancerURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"ECRRepositoryURI":{"id":"ECRRepositoryURI","path":"dev-EcsStack/ECRRepositoryURI","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"ECSClusterName":{"id":"ECSClusterName","path":"dev-EcsStack/ECSClusterName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-EcsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"dev-EcsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"Exports":{"id":"Exports","path":"dev-EcsStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"DjangoClusterF5CCF78E\"}":{"id":"Output{\"Ref\":\"DjangoClusterF5CCF78E\"}","path":"dev-EcsStack/Exports/Output{\"Ref\":\"DjangoClusterF5CCF78E\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Fn::GetAtt\":[\"DjangoServiceD3AAF77D\",\"Name\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DjangoServiceD3AAF77D\",\"Name\"]}","path":"dev-EcsStack/Exports/Output{\"Fn::GetAtt\":[\"DjangoServiceD3AAF77D\",\"Name\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Fn::GetAtt\":[\"DjangoAppRepository0E623376\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DjangoAppRepository0E623376\",\"Arn\"]}","path":"dev-EcsStack/Exports/Output{\"Fn::GetAtt\":[\"DjangoAppRepository0E623376\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Output{\"Ref\":\"DjangoAppRepository0E623376\"}":{"id":"Output{\"Ref\":\"DjangoAppRepository0E623376\"}","path":"dev-EcsStack/Exports/Output{\"Ref\":\"DjangoAppRepository0E623376\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-EcsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-EcsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"dev-CloudWatchStack":{"id":"dev-CloudWatchStack","path":"dev-CloudWatchStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"AlertsTopic":{"id":"AlertsTopic","path":"dev-CloudWatchStack/AlertsTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[{"topicName":"*","displayName":"*"}]},"children":{"Resource":{"id":"Resource","path":"dev-CloudWatchStack/AlertsTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"App Critical Alerts","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"topicName":"dev-app-alerts"}}},"your-email@example.com":{"id":"your-email@example.com","path":"dev-CloudWatchStack/AlertsTopic/your-email@example.com","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[{"topic":"*","endpoint":"*","protocol":"email","filterPolicy":"*","filterPolicyWithMessageBody":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"dev-CloudWatchStack/AlertsTopic/your-email@example.com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"your-email@example.com","protocol":"email","topicArn":{"Ref":"AlertsTopic3414BE91"}}}}}}}},"NoHealthyTasksAlarm":{"id":"NoHealthyTasksAlarm","path":"dev-CloudWatchStack/NoHealthyTasksAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[{"alarmName":"*","alarmDescription":"*","metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","comparisonOperator":"*","treatMissingData":"breaching"},{"addAlarmAction":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CloudWatchStack/NoHealthyTasksAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlertsTopic3414BE91"}],"alarmDescription":"Alert when no healthy tasks are running","alarmName":"dev-no-healthy-tasks","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"comparisonOperator":"LessThanThreshold","dimensions":[{"name":"ClusterName","value":{"Fn::ImportValue":"dev-EcsStack:ExportsOutputRefDjangoClusterF5CCF78E003A99C0"}},{"name":"ServiceName","value":{"Fn::ImportValue":"dev-EcsStack:ExportsOutputFnGetAttDjangoServiceD3AAF77DName1B105B60"}}],"evaluationPeriods":2,"metricName":"HealthyHostCount","namespace":"AWS/ECS","period":60,"statistic":"Minimum","threshold":1,"treatMissingData":"breaching"}}}}},"SNSTopicArn":{"id":"SNSTopicArn","path":"dev-CloudWatchStack/SNSTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-CloudWatchStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"dev-CloudWatchStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-CloudWatchStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-CloudWatchStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"dev-CiCdPipelineStack":{"id":"dev-CiCdPipelineStack","path":"dev-CiCdPipelineStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"Repository":{"id":"Repository","path":"dev-CiCdPipelineStack/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_codecommit.Repository","version":"2.215.0","metadata":[{"repositoryName":"*","description":"*"}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Repository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codecommit.CfnRepository","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeCommit::Repository","aws:cdk:cloudformation:props":{"repositoryDescription":"Django application source code repository","repositoryName":"dev-django-app-repo","tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"devCiCdPipelineStackPipeline8B424ED9-main-EventRule":{"id":"devCiCdPipelineStackPipeline8B424ED9-main-EventRule","path":"dev-CiCdPipelineStack/Repository/devCiCdPipelineStackPipeline8B424ED9-main-EventRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.215.0","metadata":[{"crossStackScope":"*"},{"addEventPattern":["*"]},{"addEventPattern":[{"source":"*","resources":"*"}]},{"addTarget":[{}]},{"addEventPattern":[{"detailType":"*"}]},{"addEventPattern":[{"detail":"*"}]},{"addEventPattern":[{"detail":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Repository/devCiCdPipelineStackPipeline8B424ED9-main-EventRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}],"eventPattern":{"source":["aws.codecommit"],"resources":[{"Fn::GetAtt":["Repository22E53BBD","Arn"]}],"detail-type":["CodeCommit Repository State Change"],"detail":{"event":["referenceCreated","referenceUpdated"],"referenceName":["main"]}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::Join":["",["arn:aws:codepipeline:ap-south-1:516268691462:",{"Ref":"PipelineC660917D"}]]},"roleArn":{"Fn::GetAtt":["PipelineEventsRole46BEEA7C","Arn"]}}]}}}}}}},"BuildProject":{"id":"BuildProject","path":"dev-CiCdPipelineStack/BuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[{},{},{}]},"children":{"Role":{"id":"Role","path":"dev-CiCdPipelineStack/BuildProject/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"dev-CiCdPipelineStack/BuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/BuildProject/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-CiCdPipelineStack/BuildProject/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/BuildProject/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:logs:ap-south-1:516268691462:log-group:/aws/codebuild/",{"Ref":"BuildProject097C5DB7"},":*"]]},{"Fn::Join":["",["arn:aws:logs:ap-south-1:516268691462:log-group:/aws/codebuild/",{"Ref":"BuildProject097C5DB7"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codebuild:ap-south-1:516268691462:report-group/",{"Ref":"BuildProject097C5DB7"},"-*"]]}},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:CompleteLayerUpload","ecr:GetDownloadUrlForLayer","ecr:InitiateLayerUpload","ecr:PutImage","ecr:UploadLayerPart"],"Effect":"Allow","Resource":{"Fn::ImportValue":"dev-EcsStack:ExportsOutputFnGetAttDjangoAppRepository0E623376Arn73135E20"}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"BuildProjectRoleDefaultPolicy3E9F248C","roles":[{"Ref":"BuildProjectRoleAA92C755"}]}}}}}}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/BuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Build Docker image and push to ECR","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":true,"computeType":"BUILD_GENERAL1_SMALL","environmentVariables":[{"name":"ECR_REPOSITORY_URI","type":"PLAINTEXT","value":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::ImportValue":"dev-EcsStack:ExportsOutputFnGetAttDjangoAppRepository0E623376Arn73135E20"}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::ImportValue":"dev-EcsStack:ExportsOutputFnGetAttDjangoAppRepository0E623376Arn73135E20"}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Fn::ImportValue":"dev-EcsStack:ExportsOutputRefDjangoAppRepository0E623376159BB4C2"}]]}},{"name":"AWS_DEFAULT_REGION","type":"PLAINTEXT","value":"ap-south-1"},{"name":"AWS_ACCOUNT_ID","type":"PLAINTEXT","value":"516268691462"},{"name":"IMAGE_TAG","type":"PLAINTEXT","value":"latest"}]},"name":"dev-my-app-build","serviceRole":{"Fn::GetAtt":["BuildProjectRoleAA92C755","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"pre_build\": {\n      \"commands\": [\n        \"echo Logging in to Amazon ECR...\",\n        \"aws ecr get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com\",\n        \"COMMIT_HASH=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\",\n        \"IMAGE_TAG=${COMMIT_HASH:=latest}\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"echo Build started on `date`\",\n        \"echo Building the Docker image...\",\n        \"docker build --no-cache -t $ECR_REPOSITORY_URI:latest .\",\n        \"docker tag $ECR_REPOSITORY_URI:latest $ECR_REPOSITORY_URI:$IMAGE_TAG\"\n      ]\n    },\n    \"post_build\": {\n      \"commands\": [\n        \"echo Build completed on `date`\",\n        \"echo Pushing the Docker images...\",\n        \"docker push $ECR_REPOSITORY_URI:latest\",\n        \"docker push $ECR_REPOSITORY_URI:$IMAGE_TAG\",\n        \"echo Writing image definitions file...\",\n        \"printf '[{\\\"name\\\":\\\"django-app\\\",\\\"imageUri\\\":\\\"%s\\\"}]' $ECR_REPOSITORY_URI:latest > imagedefinitions.json\",\n        \"cat imagedefinitions.json\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"files\": [\n      \"imagedefinitions.json\"\n    ]\n  }\n}"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}}}},"Pipeline":{"id":"Pipeline","path":"dev-CiCdPipelineStack/Pipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"2.215.0","metadata":[{"pipelineName":"*","restartExecutionOnUpdate":true},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]}]},"children":{"ArtifactsBucket":{"id":"ArtifactsBucket","path":"dev-CiCdPipelineStack/Pipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":[{"bucketName":"*","encryptionKey":"*","encryption":"KMS_MANAGED","enforceSSL":true,"blockPublicAccess":"*","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"Policy":{"id":"Policy","path":"dev-CiCdPipelineStack/Pipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.215.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PipelineArtifactsBucket22248F97"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"dev-CiCdPipelineStack/Pipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"dev-CiCdPipelineStack/Pipeline/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-CiCdPipelineStack/Pipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineBuildDockerBuildCodePipelineActionRoleEAACCE72","Arn"]},{"Fn::GetAtt":["PipelineDeployECSDeployCodePipelineActionRole211C0290","Arn"]},{"Fn::GetAtt":["PipelineSourceCodeCommitSourceCodePipelineActionRole89AB8DD5","Arn"]}]}],"Version":"2012-10-17"},"policyName":"PipelineRoleDefaultPolicyC7A05455","roles":[{"Ref":"PipelineRoleD68726F7"}]}}}}}}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"PipelineArtifactsBucket22248F97"}},"name":"dev-my-app-pipeline","pipelineType":"V2","restartExecutionOnUpdate":true,"roleArn":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]},"stages":[{"name":"Source","actions":[{"name":"CodeCommit_Source","outputArtifacts":[{"name":"SourceOutput"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"CodeCommit"},"configuration":{"RepositoryName":{"Fn::GetAtt":["Repository22E53BBD","Name"]},"BranchName":"main","PollForSourceChanges":false},"runOrder":1,"roleArn":{"Fn::GetAtt":["PipelineSourceCodeCommitSourceCodePipelineActionRole89AB8DD5","Arn"]}}]},{"name":"Build","actions":[{"name":"Docker_Build","inputArtifacts":[{"name":"SourceOutput"}],"outputArtifacts":[{"name":"BuildOutput"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"BuildProject097C5DB7"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["PipelineBuildDockerBuildCodePipelineActionRoleEAACCE72","Arn"]}}]},{"name":"Deploy","actions":[{"name":"ECS_Deploy","inputArtifacts":[{"name":"BuildOutput"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"ECS"},"configuration":{"ClusterName":{"Fn::ImportValue":"dev-EcsStack:ExportsOutputRefDjangoClusterF5CCF78E003A99C0"},"ServiceName":{"Fn::ImportValue":"dev-EcsStack:ExportsOutputFnGetAttDjangoServiceD3AAF77DName1B105B60"},"DeploymentTimeout":10},"runOrder":1,"roleArn":{"Fn::GetAtt":["PipelineDeployECSDeployCodePipelineActionRole211C0290","Arn"]}}]}],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"Source":{"id":"Source","path":"dev-CiCdPipelineStack/Pipeline/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodeCommit_Source":{"id":"CodeCommit_Source","path":"dev-CiCdPipelineStack/Pipeline/Source/CodeCommit_Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"dev-CiCdPipelineStack/Pipeline/Source/CodeCommit_Source/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"dev-CiCdPipelineStack/Pipeline/Source/CodeCommit_Source/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Source/CodeCommit_Source/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]}}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-CiCdPipelineStack/Pipeline/Source/CodeCommit_Source/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Source/CodeCommit_Source/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]},{"Action":["codecommit:CancelUploadArchive","codecommit:GetBranch","codecommit:GetCommit","codecommit:GetUploadArchiveStatus","codecommit:UploadArchive"],"Effect":"Allow","Resource":{"Fn::GetAtt":["Repository22E53BBD","Arn"]}}],"Version":"2012-10-17"},"policyName":"PipelineSourceCodeCommitSourceCodePipelineActionRoleDefaultPolicyD20EE23A","roles":[{"Ref":"PipelineSourceCodeCommitSourceCodePipelineActionRole89AB8DD5"}]}}}}}}}}}}},"EventsRole":{"id":"EventsRole","path":"dev-CiCdPipelineStack/Pipeline/EventsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportEventsRole":{"id":"ImportEventsRole","path":"dev-CiCdPipelineStack/Pipeline/EventsRole/ImportEventsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/EventsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-CiCdPipelineStack/Pipeline/EventsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/EventsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"codepipeline:StartPipelineExecution","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codepipeline:ap-south-1:516268691462:",{"Ref":"PipelineC660917D"}]]}}],"Version":"2012-10-17"},"policyName":"PipelineEventsRoleDefaultPolicyFF4FCCE0","roles":[{"Ref":"PipelineEventsRole46BEEA7C"}]}}}}}}},"Build":{"id":"Build","path":"dev-CiCdPipelineStack/Pipeline/Build","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Docker_Build":{"id":"Docker_Build","path":"dev-CiCdPipelineStack/Pipeline/Build/Docker_Build","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"dev-CiCdPipelineStack/Pipeline/Build/Docker_Build/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"dev-CiCdPipelineStack/Pipeline/Build/Docker_Build/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Build/Docker_Build/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]}}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-CiCdPipelineStack/Pipeline/Build/Docker_Build/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Build/Docker_Build/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BuildProject097C5DB7","Arn"]}}],"Version":"2012-10-17"},"policyName":"PipelineBuildDockerBuildCodePipelineActionRoleDefaultPolicy6AC8E385","roles":[{"Ref":"PipelineBuildDockerBuildCodePipelineActionRoleEAACCE72"}]}}}}}}}}}}},"Deploy":{"id":"Deploy","path":"dev-CiCdPipelineStack/Pipeline/Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"ECS_Deploy":{"id":"ECS_Deploy","path":"dev-CiCdPipelineStack/Pipeline/Deploy/ECS_Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"dev-CiCdPipelineStack/Pipeline/Deploy/ECS_Deploy/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"dev-CiCdPipelineStack/Pipeline/Deploy/ECS_Deploy/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Deploy/ECS_Deploy/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]}}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"MyApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-CiCdPipelineStack/Pipeline/Deploy/ECS_Deploy/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"dev-CiCdPipelineStack/Pipeline/Deploy/ECS_Deploy/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecs:DescribeServices","ecs:DescribeTaskDefinition","ecs:DescribeTasks","ecs:ListTasks","ecs:RegisterTaskDefinition","ecs:TagResource","ecs:UpdateService"],"Effect":"Allow","Resource":"*"},{"Action":"iam:PassRole","Condition":{"StringEqualsIfExists":{"iam:PassedToService":["ec2.amazonaws.com","ecs-tasks.amazonaws.com"]}},"Effect":"Allow","Resource":"*"},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"PipelineDeployECSDeployCodePipelineActionRoleDefaultPolicyE608EEE1","roles":[{"Ref":"PipelineDeployECSDeployCodePipelineActionRole211C0290"}]}}}}}}}}}}}}},"RepositoryName":{"id":"RepositoryName","path":"dev-CiCdPipelineStack/RepositoryName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"RepositoryCloneUrl":{"id":"RepositoryCloneUrl","path":"dev-CiCdPipelineStack/RepositoryCloneUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"PipelineName":{"id":"PipelineName","path":"dev-CiCdPipelineStack/PipelineName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"PipelineConsoleUrl":{"id":"PipelineConsoleUrl","path":"dev-CiCdPipelineStack/PipelineConsoleUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DeploymentInstructions":{"id":"DeploymentInstructions","path":"dev-CiCdPipelineStack/DeploymentInstructions","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-CiCdPipelineStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"dev-CiCdPipelineStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-CiCdPipelineStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-CiCdPipelineStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}